<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Voice Authentication</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="container">
    <h1>ğŸ” Voice Authentication</h1>

    <section>
      <h2>ğŸ“ Registration</h2>
      <p>Please read the paragraph below aloud:</p>
      <blockquote>
        Hello! Iâ€™m reading this passage to help train a voice recognition system.
        Every sound I produce, from soft whispers to clear and crisp words, helps the model learn my unique vocal signature.
        I speak naturally, using low and high tones, short and long words, and a variety of expressions.
      </blockquote>
      <button onclick="register()">ğŸ™ï¸ Register Voice</button>
    </section>

    <section>
      <h2>ğŸ” Authentication</h2>
      <button onclick="authenticate()">ğŸ¤ Authenticate Me</button>
    </section>

    <div id="status">Status: Waiting...</div>
  </div>

  <script>
    async function register() {
      document.getElementById("status").innerText = "Recording for registration...";
      const res = await fetch("/register", { method: "POST" });
      const data = await res.json();
      document.getElementById("status").innerText = data.status === "registered" ? "âœ… Registered!" : "âŒ Failed to register.";
    }

    async function authenticate() {
      document.getElementById("status").innerText = "Verifying... please wait.";
      const res = await fetch("/verify", { method: "POST" });
      const data = await res.json();
      document.getElementById("status").innerText = data.status === "granted" ? "âœ… Access Granted!" : "âŒ Access Denied!";
    }
  </script>
</body>
</html>
